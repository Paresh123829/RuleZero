<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Civic Eye - Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}?v={{ cache_buster }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script type="module" src="https://unpkg.com/@splinetool/viewer@1.10.33/build/spline-viewer.js"></script>
</head>
<body>
    <header class="main-header">
        <div class="header-content">
            <h1><a href="{{ url_for('home') }}"><i class="fas fa-eye"></i> Civic Eye</a></h1>
            <nav class="main-nav">
                <ul>
                    <li><a href="{{ url_for('index') }}"><i class="fas fa-home"></i> Home</a></li>
                    {% if user.role == 'admin' %}
                        <li><a href="{{ url_for('admin_page') }}"><i class="fas fa-users-cog"></i> Admin Dashboard</a></li>
                    {% else %}
                        <li><a href="{{ url_for('report_page') }}"><i class="fas fa-plus-circle"></i> Report Issue</a></li>
                        <li><a href="{{ url_for('dashboard') }}"><i class="fas fa-tachometer-alt"></i> My Dashboard</a></li>
                    {% endif %}
                    <li><a href="{{ url_for('track_page') }}"><i class="fas fa-search"></i> Track</a></li>
                </ul>
            </nav>
            <div class="user-menu">
                <span class="welcome">Welcome, {{ user.username }}{% if user.role == 'admin' %} (Admin){% endif %}!</span>
                <a href="{{ url_for('profile_page') }}" class="btn btn-small"><i class="fas fa-user{% if user.role == 'admin' %}-shield{% endif %}"></i> Profile</a>
                <a href="{{ url_for('logout') }}" class="btn btn-small"><i class="fas fa-sign-out-alt"></i> Logout</a>
            </div>
        </div>
    </header>

    <main class="main-content">
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <div class="alert-container">
                    {% for message in messages %}
                        <div class="alert alert-success">{{ message }}</div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}

        <section class="hero-dashboard">
            <div class="hero-video">
                <video autoplay muted loop playsinline>
                    <source src="{{ url_for('static', filename='images/dashbgvideo.mp4') }}" type="video/mp4">
                </video>
                <div class="hero-video-overlay"></div>
            </div>
            <div class="floating-elements">
                <div class="floating-icon icon-1"><i class="fas fa-city"></i></div>
                <div class="floating-icon icon-2"><i class="fas fa-users"></i></div>
                <div class="floating-icon icon-3"><i class="fas fa-chart-line"></i></div>
                <div class="floating-icon icon-4"><i class="fas fa-mobile-alt"></i></div>
            </div>
            <div class="container">
                <div class="hero-content">
                    <h2>Smart Civic Reporting Made Easy</h2>
                    <p>Report issues, track progress, and help build a smarter community</p>
                    <div class="quick-actions">
                        <a href="{{ url_for('report_page') }}" class="action-card">
                            <i class="fas fa-plus-circle"></i>
                            <h3>Report New Issue</h3>
                            <p>Upload images, describe problems, get AI assistance</p>
                        </a>
                        <a href="{{ url_for('track_page') }}" class="action-card">
                            <i class="fas fa-search"></i>
                            <h3>Track Complaint</h3>
                            <p>Monitor status and get real-time updates</p>
                        </a>
                        <a href="{{ url_for('solutions_page') }}" class="action-card">
                            <i class="fas fa-lightbulb"></i>
                            <h3>View Solutions</h3>
                            <p>Explore smart city technologies and innovations</p>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <section class="smart-city-section">
            <div class="section-video">
                <video autoplay muted loop playsinline>
                    <source src="{{ url_for('static', filename='images/dashbgvideo.mp4') }}" type="video/mp4">
                </video>
                <div class="section-video-overlay"></div>
            </div>
            <div class="container">
                <h2>Smart City Innovation</h2>
                <div class="innovation-showcase">
                    <img src="{{ url_for('static', filename='images/blog_1757355893673.webp') }}" alt="Smart City Trends and Innovations" class="innovation-image">
                    <div class="innovation-content">
                        <h3>Leading Smart City Trends</h3>
                        <p>Discover the latest innovations in smart city technology, from IoT sensors to AI-powered governance systems.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Proven Results -->
        <section class="proven-results">
            <div class="container">
                <div class="proven-grid">
                    <div class="proven-copy card card--dark">
                        <h2 class="proven-title"><span class="accent-bar"></span> Proven Results</h2>
                        <p>
                            Since our launch, Civic Eye has facilitated over
                            <strong class="hl">10,000</strong> civic reports across
                            <strong class="hl">50+ communities</strong>, resulting in a
                            <strong class="hl">40% faster</strong> resolution time for municipal issues.
                            Our platform has helped local governments save over
                            <strong class="hl">$2M</strong> in operational costs while improving citizen
                            satisfaction scores by <strong class="hl">65%</strong>.
                        </p>
                        <p>
                            From pothole repairs to park maintenance and traffic signal updates, we're making cities more
                            responsive and communities more connected through the power of technology.
                        </p>
                        <div class="proven-foot">
                            <i class="fas fa-bolt"></i>
                            <span>Real-time impact tracking</span>
                        </div>
                    </div>
                    <figure class="proven-media card">
                        <img src="{{ url_for('static', filename='images/highway.png') }}" alt="Clear highway with vehicles running" />
                        <figcaption>Smart City Technology</figcaption>
                    </figure>
                </div>
            </div>
        </section>

        <section class="features-section">
            <div class="section-video">
                <video autoplay muted loop playsinline>
                    <source src="{{ url_for('static', filename='images/dashbgvideo.mp4') }}" type="video/mp4">
                </video>
                <div class="section-video-overlay"></div>
            </div>
            <div class="container">
                <h2>Platform Features</h2>
                <div class="features-grid">
                    <div class="feature-box">
                        <i class="fas fa-camera"></i>
                        <h3>AI Image Detection</h3>
                        <p>Advanced computer vision automatically classifies civic issues from photos</p>
                    </div>
                    <div class="feature-box">
                        <i class="fas fa-map-marker-alt"></i>
                        <h3>Smart Location Services</h3>
                        <p>Precise geo-tagging and mapping for efficient issue resolution</p>
                    </div>
                    <div class="feature-box">
                        <i class="fas fa-shield-alt"></i>
                        <h3>Fake Report Detection</h3>
                        <p>ML algorithms prevent spam and duplicate submissions</p>
                    </div>
                    <div class="feature-box">
                        <i class="fas fa-chart-line"></i>
                        <h3>Real-time Analytics</h3>
                        <p>Track progress and view comprehensive issue statistics</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="main-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3><i class="fas fa-eye"></i> Civic Eye</h3>
                <p>AI-powered civic issue detection and grievance redressal system</p>
            </div>
            <div class="footer-section">
                <h3>Contact</h3>
                <p><i class="fas fa-map-marker-alt"></i> Pune, India</p>
                <p><i class="fas fa-phone"></i> +91 9876543210</p>
                <p><i class="fas fa-envelope"></i> support@civiceye.com</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="{{ url_for('about_page') }}">About Us</a></li>
                    <li><a href="{{ url_for('solutions_page') }}">Solutions</a></li>
                    <li><a href="{{ url_for('resources_page') }}">Resources</a></li>
                    <li><a href="{{ url_for('contact_page') }}">Contact</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Civic Eye. All rights reserved.</p>
        </div>
    </footer>

    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <!-- Chatbot Button -->
<div id="chatbot-icon">
    <div class="bot-3d">
        <spline-viewer url="https://prod.spline.design/sPHAQ6-w9qVuewnA/scene.splinecode" style="width: 100%; height: 100%; border-radius: 50%; overflow: hidden;"></spline-viewer>
        <span class="bot-glow"></span>
    </div>
    </div>

    <!-- Chatbot Window -->
    <div id="chatbot-window">
    <div id="chatbot-header">AI Chatbot
        <button id="chatbot-close" aria-label="Close chatbot">Ã—</button>
    </div>
    <div id="chatbot-messages"></div>
    <div id="chatbot-input">
        <input type="text" id="user-input" placeholder="Ask me something..." />
        <button onclick="sendMessage()">Send</button>
    </div>
    </div>

    <!-- Chatbot CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/chatbot.css') }}">
    <script src="{{ url_for('static', filename='chatbot.js') }}"></script>

    <script src="{{ url_for('static', filename='js/voice_recorder.js') }}"></script>
    <script src="{{ url_for('static', filename='js/news_social_feed.js') }}"></script>
</body>
</html>
